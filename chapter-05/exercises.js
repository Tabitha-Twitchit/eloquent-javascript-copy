// /////////////////////////////////////////////////////////////////////////////
// flatten /////////////////////////////////////////////////////////////////////
// /////////////////////////////////////////////////////////////////////////////

const { characterScript } = require("./helpers");
const SCRIPTS = require("./scripts");

function flatten(array) {
// console.log(array);
  return array.reduce(function(acc, current){
    acc = acc.concat(current);
    return acc;
  }, []);
}
// /////////////////////////////////////////////////////////////////////////////
// loop ////////////////////////////////////////////////////////////////////////
// /////////////////////////////////////////////////////////////////////////////

function loop(val, testFunc, updateFunc, bodyFunc) {
  // console.log(val);
    
  // //   // console.log(testFunc); // n => n > 0 || n > - 3
  //   // console.log(testFunc(i));
    if (testFunc(val) === false){
      return;
    };
    bodyFunc(val);
    // console.log(bodyFunc); // => (){return u.invoke(l, this, b.call(arguments))}
    // 
    // console.log(updateFunc); // => n -1 || n - 2
    val = (updateFunc(val));
    
    return loop(val, testFunc, updateFunc, bodyFunc);
}

// /////////////////////////////////////////////////////////////////////////////
// every ///////////////////////////////////////////////////////////////////////
// /////////////////////////////////////////////////////////////////////////////

function every(array, test) {
  // console.log(array);
  // console.log(test);

  if(array.length === 0){
    return true;
  }


  if(test(array[0])){
    return every(array.slice(1), test);
  } else {
    return false};
  ;

  
}

// /////////////////////////////////////////////////////////////////////////////
// dominantDirection ///////////////////////////////////////////////////////////
// /////////////////////////////////////////////////////////////////////////////

function dominantDirection(text) {
  // check argument, and check access to SCRIPTS
  // console.log(text);
  // console.log(SCRIPTS);
  
  //access path to helpers
  // const helpers = require('./path/to/helpers.js'); 

  // assign a variable to a sample from the arg 
  let codeVar = text.charCodeAt(0);
  // console.log(codeVar);

  // for(let script of SCRIPTS){
    // console.log(script.ranges);
    // console.log(SCRIPTS[i]);
  // }
}

// /////////////////////////////////////////////////////////////////////////////
//  //////////////////////////////////////////////////////
// /////////////////////////////////////////////////////////////////////////////

if ((typeof process !== 'undefined') &&
  (typeof process.versions.node !== 'undefined')) {
  module.exports = {
    flatten,
    loop,
    every,
    dominantDirection,
  };
};